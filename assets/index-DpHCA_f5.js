import{r as e,c as a,o as s,a as t,w as l,v as r,b as i,d as o,e as c,f as n,t as v,g as u,h as d,F as m,i as p,j as h,k as y,l as g,m as k,n as f,p as b}from"./vendor-NpCOgTA8.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const _=(e,a)=>{const s=e.__vccOpts||e;for(const[t,l]of a)s[t]=l;return s},w={class:"search-bar"},S={class:"search-container"},x=["placeholder"],M=["disabled"],$=_({__name:"SearchBar",emits:["search"],setup(c,{emit:n}){const v=n,u=e(""),d=e("movies"),m=()=>{u.value.trim()&&v("search",{query:u.value.trim(),type:d.value})};return(e,c)=>(s(),a("div",w,[t("div",S,[l(t("select",{"onUpdate:modelValue":c[0]||(c[0]=e=>d.value=e),class:"search-type"},[...c[2]||(c[2]=[t("option",{value:"movies"},"Movies",-1),t("option",{value:"music"},"Music",-1)])],512),[[r,d.value]]),l(t("input",{"onUpdate:modelValue":c[1]||(c[1]=e=>u.value=e),onKeyup:o(m,["enter"]),type:"text",placeholder:"movies"===d.value?"Search movies...":"Search music...",class:"search-input"},null,40,x),[[i,u.value]]),t("button",{onClick:m,class:"search-button",disabled:!u.value.trim()},[...c[3]||(c[3]=[t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("circle",{cx:"11",cy:"11",r:"8"}),t("path",{d:"m21 21-4.35-4.35"})],-1)])],8,M)])]))}},[["__scopeId","data-v-893b6e11"]]),C={class:"movie-poster"},I=["src","alt"],N={key:0,class:"movie-rating"},P={class:"movie-info"},E={class:"movie-title"},R={key:0,class:"movie-year"},A={class:"movie-overview"},L=_({__name:"MovieCard",props:{movie:{type:Object,required:!0}},emits:["select"],setup(l){const r=l,i=e(!1),o=c(()=>i.value||!r.movie.poster_path?"https://via.placeholder.com/300x450/cccccc/666666?text=No+Image":`https://image.tmdb.org/t/p/w300${r.movie.poster_path}`),u=c(()=>r.movie.overview?r.movie.overview.length>150?r.movie.overview.substring(0,150)+"...":r.movie.overview:"No description available"),d=()=>{i.value=!0};return(e,r)=>(s(),a("div",{class:"movie-card",onClick:r[0]||(r[0]=a=>e.$emit("select",l.movie))},[t("div",C,[t("img",{src:o.value,alt:l.movie.title,onError:d,class:"poster-image"},null,40,I),l.movie.vote_average?(s(),a("div",N,[t("span",null,"⭐ "+v(l.movie.vote_average.toFixed(1)),1)])):n("",!0)]),t("div",P,[t("h3",E,v(l.movie.title),1),l.movie.release_date?(s(),a("p",R,v(new Date(l.movie.release_date).getFullYear()),1)):n("",!0),t("p",A,v(u.value),1)])]))}},[["__scopeId","data-v-50df06a5"]]),O={class:"music-artwork"},q=["src","alt"],j={class:"music-info"},z={class:"track-title"},B={class:"artist-name"},F={key:0,class:"album-name"},V={class:"track-meta"},D={key:0,class:"duration"},K={key:1,class:"rank"},T=_({__name:"MusicCard",props:{track:{type:Object,required:!0}},setup(e){const l=e,r=()=>{if(l.track.preview){new Audio(l.track.preview).play().catch(e=>{console.error("Error playing preview:",e)})}else l.track.link&&window.open(l.track.link,"_blank")};return(l,i)=>{return s(),a("div",{class:"music-card",onClick:r},[t("div",O,[t("img",{src:e.track.album?.cover_medium||e.track.artist?.picture_medium||"https://via.placeholder.com/200x200/667eea/ffffff?text=♪",alt:e.track.title,class:"artwork-image"},null,8,q),i[0]||(i[0]=t("div",{class:"play-overlay"},[t("div",{class:"play-button"},[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"white"},[t("path",{d:"M8 5v14l11-7z"})])])],-1))]),t("div",j,[t("h3",z,v(e.track.title),1),t("p",B,v(e.track.artist?.name),1),e.track.album?.title?(s(),a("p",F,v(e.track.album.title),1)):n("",!0),t("div",V,[e.track.duration?(s(),a("span",D,v((o=e.track.duration,`${Math.floor(o/60)}:${(o%60).toString().padStart(2,"0")}`)),1)):n("",!0),e.track.rank?(s(),a("span",K," 🔥 "+v(e.track.rank),1)):n("",!0)])])]);var o}}},[["__scopeId","data-v-da70d50b"]]),U={class:"loading-spinner"},X={key:0},Y=_({__name:"LoadingSpinner",props:{message:{type:String,default:"Loading..."}},setup:e=>(l,r)=>(s(),a("div",U,[r[0]||(r[0]=t("div",{class:"spinner"},null,-1)),e.message?(s(),a("p",X,v(e.message),1)):n("",!0)]))},[["__scopeId","data-v-f9d4336c"]]),H="c80c2139f0307e6826ca3508276ffdad",G="https://api.themoviedb.org/3",J="c24f44d068msh3a0d9ab55c2f337p1b296cjsn02582e2108bb",Q="https://deezerdevs-deezer.p.rapidapi.com",W=(e=1)=>u.get(`${G}/movie/popular`,{params:{api_key:H,page:e,language:"en"}}),Z=(e,a=1)=>u.get(`${G}/search/movie`,{params:{api_key:H,query:e,page:a,language:"en"}}),ee=e=>u.get(`${Q}/search`,{params:{q:e},headers:{"X-RapidAPI-Key":J,"X-RapidAPI-Host":"deezerdevs-deezer.p.rapidapi.com"}}),ae={key:0,class:"movie-details"},se={class:"movie-header"},te={class:"movie-poster"},le=["src","alt"],re={class:"movie-info"},ie={class:"movie-title"},oe={class:"movie-meta"},ce={key:0,class:"release-date"},ne={key:1,class:"rating"},ve={key:2,class:"runtime"},ue={key:0,class:"movie-overview"},de={key:1,class:"genres"},me={key:0,class:"soundtrack-section"},pe={class:"soundtrack-grid"},he={key:1,class:"loading-section"},ye={key:2,class:"no-soundtrack"},ge=_({__name:"MovieModal",props:{movie:{type:Object,default:null},isVisible:{type:Boolean,default:!1}},emits:["close"],setup(l,{emit:r}){const i=l,o=r,u=e([]),k=e(!1),f=c(()=>i.movie?.poster_path?`https://image.tmdb.org/t/p/w400${i.movie.poster_path}`:"https://via.placeholder.com/400x600/cccccc/666666?text=No+Image"),b=e=>{const a=Math.floor(e/60),s=e%60;return a>0?`${a}h ${s}min`:`${s}min`},_=()=>{o("close")},w=async()=>{if(i.movie?.title){k.value=!0,u.value=[];try{const e=await(async e=>{try{const a=`${e} soundtrack`;return(await ee(a)).data}catch(a){return console.error("Error searching soundtrack:",a),null}})(i.movie.title);e&&e.data&&(u.value=e.data.slice(0,6))}catch(e){console.error("Error loading soundtrack:",e)}finally{k.value=!1}}};return d(()=>i.movie,e=>{e&&i.isVisible&&w()},{immediate:!0}),d(()=>i.isVisible,e=>{e&&i.movie&&w()}),(e,r)=>(s(),a("div",{class:"modal-overlay",onClick:_},[t("div",{class:"modal-content",onClick:r[0]||(r[0]=g(()=>{},["stop"]))},[t("button",{class:"close-button",onClick:_},"×"),l.movie?(s(),a("div",ae,[t("div",se,[t("div",te,[t("img",{src:f.value,alt:l.movie.title,class:"poster-image"},null,8,le)]),t("div",re,[t("h1",ie,v(l.movie.title),1),t("div",oe,[l.movie.release_date?(s(),a("span",ce,v(new Date(l.movie.release_date).getFullYear()),1)):n("",!0),l.movie.vote_average?(s(),a("span",ne," ⭐ "+v(l.movie.vote_average.toFixed(1)),1)):n("",!0),l.movie.runtime?(s(),a("span",ve,v(b(l.movie.runtime)),1)):n("",!0)]),l.movie.overview?(s(),a("p",ue,v(l.movie.overview),1)):n("",!0),l.movie.genres&&l.movie.genres.length?(s(),a("div",de,[(s(!0),a(m,null,p(l.movie.genres,e=>(s(),a("span",{class:"genre",key:e.id},v(e.name),1))),128))])):n("",!0)])]),u.value&&u.value.length?(s(),a("div",me,[r[1]||(r[1]=t("h2",null,"Soundtrack",-1)),t("div",pe,[(s(!0),a(m,null,p(u.value,e=>(s(),h(T,{key:e.id,track:e},null,8,["track"]))),128))])])):k.value?(s(),a("div",he,[y(Y,{message:"Loading soundtrack..."})])):(s(),a("div",ye,[...r[2]||(r[2]=[t("p",null,"No soundtrack found for this movie.",-1)])]))])):n("",!0)])]))}},[["__scopeId","data-v-4a99cd59"]]),ke={class:"error-message"},fe=_({__name:"ErrorMessage",props:{title:{type:String,default:"Oops! Something went wrong"},message:{type:String,default:"An unexpected error occurred. Please try again later."},showRetry:{type:Boolean,default:!0}},emits:["retry"],setup:e=>(l,r)=>(s(),a("div",ke,[r[1]||(r[1]=t("div",{class:"error-icon"},"⚠️",-1)),t("h3",null,v(e.title),1),t("p",null,v(e.message),1),e.showRetry?(s(),a("button",{key:0,onClick:r[0]||(r[0]=e=>l.$emit("retry")),class:"retry-button"}," Try Again ")):n("",!0)]))},[["__scopeId","data-v-2615ffd2"]]),be={id:"app"},_e={class:"main-content"},we={class:"container"},Se={class:"section-header"},xe={key:0},Me={key:1},$e={key:2,class:"results-count"},Ce={key:2,class:"results-grid"},Ie={key:3,class:"no-results"};b(_({__name:"App",setup(l){const r=e([]),i=e(!1),o=e(null),c=e("movies"),u=e(null),d=e(!1),g=e([]);k(async()=>{await b()});const b=async()=>{i.value=!0,o.value=null;try{const e=await W();g.value=e.data.results||[],r.value=g.value}catch(e){console.error("Error loading popular movies:",e),o.value={title:"Error loading movies",message:"Could not load popular movies. Please check your connection and API keys."}}finally{i.value=!1}},_=async({query:e,type:a})=>{i.value=!0,o.value=null,c.value=a;try{if("movies"===a){const a=await Z(e);r.value=a.data.results||[]}else if("music"===a){const a=await ee(e);r.value=a.data.data||[]}0===r.value.length&&(o.value={title:"No results found",message:`No results found for "${e}". Try a different search.`,showRetry:!1})}catch(s){console.error("Search error:",s),o.value={title:"Search error",message:"Could not perform search. Please check your connection and try again."},r.value=[]}finally{i.value=!1}},w=e=>{u.value=e,d.value=!0},S=()=>{d.value=!1,u.value=null},x=()=>{0!==r.value.length||i.value||b()};return(e,l)=>(s(),a("div",be,[l[1]||(l[1]=f('<header class="app-header" data-v-b41cab01><div class="container" data-v-b41cab01><h1 class="app-title" data-v-b41cab01><span class="icon" data-v-b41cab01>🎬</span> Movie &amp; Music Explorer <span class="icon" data-v-b41cab01>🎵</span></h1><p class="app-subtitle" data-v-b41cab01>Discover movies and their soundtracks</p></div></header>',1)),y($,{onSearch:_}),t("main",_e,[t("div",we,[t("div",Se,["movies"===c.value?(s(),a("h2",xe,v(r.value.length?"Search Results":"Popular Movies"),1)):(s(),a("h2",Me,"Music Results")),r.value.length?(s(),a("span",$e,v(r.value.length)+" result(s) ",1)):n("",!0)]),i.value?(s(),h(Y,{key:0,message:"Loading..."})):o.value?(s(),h(fe,{key:1,title:o.value.title,message:o.value.message,"show-retry":!1!==o.value.showRetry,onRetry:x},null,8,["title","message","show-retry"])):r.value.length?(s(),a("div",Ce,["movies"===c.value?(s(!0),a(m,{key:0},p(r.value,e=>(s(),h(L,{key:e.id,movie:e,onSelect:w},null,8,["movie"]))),128)):(s(!0),a(m,{key:1},p(r.value,e=>(s(),h(T,{key:e.id,track:e},null,8,["track"]))),128))])):(s(),a("div",Ie,[...l[0]||(l[0]=[t("div",{class:"no-results-icon"},"🔍",-1),t("h3",null,"No results found",-1),t("p",null,"Try a different search or explore popular movies.",-1)])]))])]),d.value?(s(),h(ge,{key:0,movie:u.value,"is-visible":d.value,onClose:S},null,8,["movie","is-visible"])):n("",!0)]))}},[["__scopeId","data-v-b41cab01"]])).mount("#app");
